<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>XF2E-小车匠前端团队</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="sublime3 build systembuild system运行外部的程序来处理你的项目文件并且打印捕获的输出到sublime的输出面板。最后，调用subprocess.Popen。
基本步骤新建一个Build system
sublime-bulid-system.jpgsublime-bulid-system.jpg输入键值对（JSON格式）例如构建less：
{    “shell_c">
<meta property="og:type" content="article">
<meta property="og:title" content="XF2E-小车匠前端团队">
<meta property="og:url" content="http://yoursite.com/2016/09/24/sublime_3_2/index.html">
<meta property="og:site_name" content="XF2E-小车匠前端团队">
<meta property="og:description" content="sublime3 build systembuild system运行外部的程序来处理你的项目文件并且打印捕获的输出到sublime的输出面板。最后，调用subprocess.Popen。
基本步骤新建一个Build system
sublime-bulid-system.jpgsublime-bulid-system.jpg输入键值对（JSON格式）例如构建less：
{    “shell_c">
<meta property="og:updated_time" content="2016-09-24T03:44:12.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="XF2E-小车匠前端团队">
<meta name="twitter:description" content="sublime3 build systembuild system运行外部的程序来处理你的项目文件并且打印捕获的输出到sublime的输出面板。最后，调用subprocess.Popen。
基本步骤新建一个Build system
sublime-bulid-system.jpgsublime-bulid-system.jpg输入键值对（JSON格式）例如构建less：
{    “shell_c">
  
    <link rel="alternative" href="/atom.xml" title="XF2E-小车匠前端团队" type="application/atom+xml">
  
  
    <link rel="icon" href="/http://odn6bfovg.bkt.clouddn.com/logo.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="nullhttp://odn6bfovg.bkt.clouddn.com/logo.png" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">XF2E</a></h1>
		</hgroup>

		
		<p class="header-subtitle">小车匠前端团队</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
						
						
						<li>Über</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">我是谁，我从哪里来，我到哪里去？我就是我，是颜色不一样的吃货…</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">XF2E</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img lazy-src="nullhttp://odn6bfovg.bkt.clouddn.com/logo.png" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">XF2E</h1>
			</hgroup>
			
			<p class="header-subtitle">小车匠前端团队</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap"><article id="post-sublime_3_2" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/09/24/sublime_3_2/" class="article-date">
  	<time datetime="2016-09-24T02:52:32.000Z" itemprop="datePublished">2016-09-24</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>sublime3 build system<br>build system运行外部的程序来处理你的项目文件并且打印捕获的输出到sublime的输出面板。最后，调用subprocess.Popen。</p>
<p>基本步骤<br>新建一个Build system</p>
<p>sublime-bulid-system.jpg<br>sublime-bulid-system.jpg<br>输入键值对（JSON格式）<br>例如构建less：</p>
<p>{<br>    “shell_cmd”: “lessc \”$file\” \”$file_path/$file_base_name.css\””,<br>    “selector”: “source.less”,<br>    “shell”: true<br>}<br>将untitled.sublime-build文件保存到Sublime Text3/Packages/User下，重新命名为less.sublime-build。</p>
<p>选项<br>shell_cmd：要执行的命令。<br>file_regex：可选，正则表达式捕捉cmd的错误输出。<br>line_regex：可选,当file_regex与该行不匹配，如果line_regex存在，并且确实与当前行匹配， 则遍历整个缓冲区，直到与file regex匹配的行出现，并用这两个匹配决定最终要跳转的文件 或行。<br>selector：可选，当Build System被设置为 Automatic时，sublime使用这个选项来查找到当前窗口适合的Build System。<br>working_dir：可选，在运行cmd前会切换到该目录。运行结束后会切换到原来的目录。<br>encoding：可选，cmd输出流的编码。一定要是有效的Python编码。默认是utf-8（字符串类型）。<br>target：可选，运行的Sublime Text命令，缺省为exec (Packages/Default/exec.py)。<br>env：可选，在环境变量被传递给cmd前，将他们封装成词典。<br>shell：可选，如果该选项为true ，cmd则可以通过shell运行。<br>path：可选，该选项可以在调用cmd前替换当前进程的PATH 。原来的PATH 将在运行后恢复。使用这个选项可以在不修改系统设置的前提下将目录添加到PATH 中。<br>使用 file_regex获取错误输出<br>file_regex选项用Perl的正则表达式来捕获构建系统的错误输出，主要包括四部分内容，分别是 file name、 line number、 column number和error message。Sublime Text 在匹配模式中使用分组的方式捕获信息。file name和line number域是必须的。</p>
<p>当错误信息被捕获时，你可以使用F4 和 Shift+F4在你的项目文件中跳转。被捕获的错误信息会显示在状态栏。</p>
<p>平台相关选项<br>windows，osx 以及linux元素可以帮助你在构建系统中设定平台相关。</p>
<p>构建系统变量<br>$file_path 当前文件所在路径, 比如 C:\Files.<br>$file 当前文件的完整路径, 比如 C:\Files\Chapter1.txt.<br>$file_name 当前文件的文件名, 比如 Chapter1.txt.<br>$file_extension 当前文件的扩展名, 比如 txt.<br>$file_base_name 当前文件仅包含文件名的部分, 比如 Document.<br>$packages Packages 文件夹的完整路径.<br>$project 当前项目文件的完整路径.<br>$project_path 当前项目文件的路径.<br>$project_name 当前项目文件的名称.<br>$project_extension 当前项目文件的扩展部分.<br>$project_base_name 当前项目仅包括名的部分.<br>变量用法<br>可以在代码片段上中使用以上变量。</p>
<p>${project_name:Default}<br>如果当前项目存在则使用该项目名称，否则则使用Default替代。</p>
<p>${file/.php/.txt/}<br>该例会获取当前文件的完整路径，并用.txt替换路径中的.php。</p>
<p>运行构建系统<br>ctrl+b或者F</p>
<p>sublime skills<br>字数1216 阅读23 评论0 喜欢1<br>[TOC]</p>
<p>1 输入中文<br>ubuntu桌面的图标点开后无法输入中文，要修改下面的文件</p>
<p>sudo mv libsublime-imfix.so /opt/sublime_text/<br>这边是文件<a href="http://bbs.nju.edu.cn/file/L/leisurem/libsublime-imfix.so" target="_blank" rel="external">http://bbs.nju.edu.cn/file/L/leisurem/libsublime-imfix.so</a></p>
<p>sudo gedit /usr/bin/subl<br>将</p>
<p>#!/bin/sh<br>exec /opt/sublime_text/sublime_text “$@”<br>修改为</p>
<p>#!/bin/sh<br>LD_PRELOAD=/opt/sublime_text/libsublime-imfix.so exec /opt/sublime_text/sublime_text “$@”<br>subl /home/leisurem/.local/share/applications/sublime_text.desktop<br>把井号注释掉，加后面那行</p>
<p>#Exec=/opt/sublime_text/sublime_text<br>Exec=bash -c “LD_PRELOAD=/opt/sublime_text/libsublime-imfix.so exec /opt/sublime_text/sublime_text”<br>侧边栏上的subl要修改</p>
<p>subl /home/leisurem/.local/share/applications/sublime_text.desktop<br>Exec=bash -c “LD_PRELOAD=/opt/sublime_text/libsublime-imfix.so exec /opt/sublime_text/sublime_text”<br>subl /usr/share/applications/sublime_text.desktop<br>改下面三行</p>
<p>[Desktop Entry]<br>Exec=bash -c “LD_PRELOAD=/opt/sublime_text/libsublime-imfix.so exec /opt/sublime_text/sublime_text %F”</p>
<p>[Desktop Action Window]<br>Exec=bash -c “LD_PRELOAD=/opt/sublime_text/libsublime-imfix.so exec /opt/sublime_text/sublime_text -n”</p>
<p>[Desktop Action Document]<br>Exec=bash -c “LD_PRELOAD=/opt/sublime_text/libsublime-imfix.so exec /opt/sublime_text/sublime_text  –command new_file”<br>lxml的安装需要</p>
<p>apt-get install libxml2-dev libxslt-dev python-dev<br>2 markdown的配置<br>在sublime里先安装makrdown preview,然后安装Monokai extends<br>写好之后,按ctrl+b可以预览</p>
<p>3 用conda安装的包,sublime里找不到<br>打开perefrence的package settings里选anaconda的settings-default<br>找到</p>
<pre><code>/*
    Default python interpreter.
    This can (and should) be overridden by project settings
*/
&quot;python_interpreter&quot;: &quot;/home/leisurem/anaconda2/bin/python&quot;,
</code></pre><p>把python_interpreter修正为对应编译器位置,一般是在终端里用which python就可以看到</p>
<p>4 markdown无法安装包<br>提示</p>
<p>PermissionError: [Errno 13] Permission denied: ‘/home/leisurem/.config/sublime-text-3/Packages/User/Package Control.last-run’<br>TypeError: <strong>str</strong> returned non-string (type NoneType)<br>解决方案是把permission denied那边的文件所有者改一下，再把缓存删除</p>
<p>sudo chown leisurem /home/leisurem/.config/sublime-text-3/Packages/User/Package Control.last-run<br>sudo rm -rf /home/leisurem/.config/sublime-text-3/Packages/User/Package Control.cache/*<br>为了保险起见，openssl和pythondev也安装好</p>
<p>sudo apt-get install openssl<br>sudo apt-get install libssl-dev<br>5 sublime的注册码<br>—– BEGIN LICENSE —–<br>Michael Barnes<br>Single User License<br>EA7E-821385<br>8A353C41 872A0D5C DF9B2950 AFF6F667<br>C458EA6D 8EA3C286 98D1D650 131A97AB<br>AA919AEC EF20E143 B361B1E7 4C8B7F04<br>B085E65E 2F5F5360 8489D422 FB8FC1AA<br>93F6323C FD7F7544 3F39C318 D95E6480<br>FCCC7561 8A4A1741 68FA4223 ADCEDE07<br>200C25BE DBBC4855 C4CFB774 C5EC138C<br>0FEC1CEF D9DCECEC D3A5DAD1 01316C36<br>—— END LICENSE ——<br>—– BEGIN LICENSE —–<br>Alexey Plutalov<br>Single User License<br>EA7E-860776<br>3DC19CC1 134CDF23 504DC871 2DE5CE55<br>585DC8A6 253BB0D9 637C87A2 D8D0BA85<br>AAE574AD BA7D6DA9 2B9773F2 324C5DEF<br>17830A4E FBCF9D1D 182406E9 F883EA87<br>E585BBA1 2538C270 E2E857C2 194283CA<br>7234FF9E D0392F93 1D16E021 F1914917<br>63909E12 203C0169 3F08FFC8 86D06EA8<br>73DDAEF0 AC559F30 A6A67947 B60104C6<br>—— END LICENSE ——<br>6 构建编译系统<br>比如要构建一个python 的编译器，在tool,build system里选new build system，添加下面的内容即可</p>
<p>{<br>    “cmd”: [“python”, “-u”, “$file”],<br>    “file_regex”: “^[ ]<em>File \”(…</em>?)\”, line ([0-9]*)”,<br>    “selector”: “source.python”<br>}<br>如果要跑pyspark就建一个</p>
<p>{<br>    “cmd”: [“/home/leisurem/cm/spark-1.6.1-bin-hadoop2.6/bin/spark-submit”, “$file”],<br>    “file_regex”: “^[ ]<em>File \”(…</em>?)\”, line ([0-9]*)”,<br>    “selector”: “source.python”<br>}<br>把’-u’去掉</p>
<p>对conda的环境<br>比如 对于名为lei的环境</p>
<p>(py3k) vagrant@precise64:~$ source activate lei<br>(lei) vagrant@precise64:~$ which python<br>/home/vagrant/anaconda2/envs/lei/bin/python<br>新建下面的配置文件即可</p>
<p>{<br>    “cmd”: [“/home/vagrant/anaconda2/envs/lei/bin/python”, “-u”, “$file”],<br>    “file_regex”: “^[ ]<em>File \”(…</em>?)\”, line ([0-9]*)”,<br>    “selector”: “source.python”<br>}<br>7 常用包<br>sublimerepl<br>SideBarEnhancements<br>markdown preview<br>8 把tab配置成四个空格<br>打开页面上的Preferences -&gt; Settings-User<br>添加配置信息</p>
<p> “tab_size”: 4,<br> “translate_tabs_to_spaces”: true,<br>9 修改ubuntu中文件的默认打开方式<br>cd到/home/leisurem/.local/share/applications目录<br>如果有mimeapps.list，就修改，没有就创建，加入下面的内容</p>
<p>[Default Applications]<br>text/plain=sublime_text.desktop<br>application/md=sublime_text.desktop<br>text/x-md=sublime_text.desktop<br>text/x-python=sublime_text.desktop<br>再新建一个sublime_text.desktop，加入下面的内容，注意下name后面跟的和实际的名字一样，icon是某个图标</p>
<p>[Desktop Entry]<br>Encoding=UTF-8<br>Version=1.0<br>Type=Application<br>Name=sublime_text.desktop</p>
<p>#Icon=sublime_text.png<br>Icon=/home/leisurem/Pictures/ico/tiger.ico<br>Path=/</p>
<p>#Exec=bash -c “LD_PRELOAD=/opt/sublime_text/libsublime-imfix.so exec /opt/sublime_text/sublime_text”<br>Exec=subl<br>Type=Application　<br>Terminal=true<br>NoDisplay=true  </p>
<p>Name[en_US]=sublime_text.desktop<br>10 配置pep8<br>不赞同pep8的某些规范，比如e41和e501，可以在subl里跳过检查<br>先在preferences的package setting里选autopepe8，选setting-user，输入下面代码</p>
<p>{<br>    “max-line-length”: 79,</p>
<pre><code>// list codes for fixes; used by --ignore and --select
&quot;list-fixes&quot;: &quot;&quot;,

// do not fix these errors / warnings(e.g. E4, W)
&quot;ignore&quot;: &quot;E41, E226, E501&quot;,

// select errors / warnings(e.g. E4, W)
&quot;select&quot;: &quot;&quot;,

// enable possibly unsafe changes (E711, E712)
&quot;aggressive&quot;: 0,

// number of spaces per indent level
&quot;indent-size&quot;: 4,

&quot;format_on_save&quot;: false,
&quot;show_output_panel&quot;: true,
// Format/Preview menu items only appear for views
// with syntax from `syntax_list`
// value is base filename of the .tmLanguage syntax files
&quot;syntax_list&quot;: [&quot;Python&quot;],

&quot;file_menu_search_depth&quot;: 3, // max depth to search python files

&quot;avoid_new_line_in_select_mode&quot;: false,

// print debug info into the console
&quot;debug&quot;: false
</code></pre><p>}<br>然后，打开Prefrences &gt; Package Settings &gt; SublimeLinter &gt; Settings - User，然后输入下面代码:</p>
<p>{<br>    “pep8”: true,<br>    “pep8_ignore”:[“E501”,”41”],<br>}<br>11 在sublime里调试pyspark<br>先把spark里的pyspark文件夹拷贝到conda的路径下，比如/home/leisurem/anaconda2/envs/lei/lib/python2.7/site-packages<br>然后，在conda中对应的环境里pip install py4j<br>最后，在sublime里切换到对应的环境，比如lei，就可以调试pyspark下的那些东西了</p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/09/24/sublime_3_3/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/2016/09/20/git/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title"></div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">Share to: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
    <a class="jiathis_button_twitter"></a>
    <a class="jiathis_button_plus"></a> 
    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>






<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="sublime_3_2" data-title="" data-url="http://yoursite.com/2016/09/24/sublime_3_2/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 XF2E
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: /
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>